<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #container {
            display: flex;
            height: 500px;
        }
        #sidebar {
            flex: 2;
            border: solid 1px black;
        }
        #main {
            flex: 7;
            border: solid 1px black;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="sidebar">
            <!-- Append the horizontal navbar(sidebar) -->
        </div>
        <div id="main">
            <!-- DO NOT CHANGE THIS ID -->
            <!-- Append top image here only -->
        </div>
    </div>
</body>
</html>
<script type="module">
    //1.craete a component and export
    //2.Import Navbar
    //3.Append Data
    import sidebar from './components/sidebar.js'
    import { makeAPICall, appendPictures } from './scripts/main.js'
    // console.log("makeAPICall:",makeAPICall);
    let sidebar_div = document.getElementById("sidebar");
    sidebar_div.innerHTML = sidebar();

    let image_data = await makeAPICall('https://gnews.io/api/v4/top-headlines?token=bde8eb9280d31bf28e0df71acc6ae8cc&lang=en&country=in')
    let img_data = image_data.articles

    console.log("image_data", image_data.articles)

    let parent = document.getElementById("main");
    appendPictures(image_data.articles, parent);

    let input = document.getElementById('searchbar');
    input.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
            let input_value = document.getElementById("searchbar").value
            localStorage.setItem('serach', input_value)
            window.location.href = "search.html"
            // console.log(e)
        }

    });
</script>